


  
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>使用jekyll结合EasyBook搭建个人github主页 « Pepelu</title>
  <meta name="description" content="写这篇主要是总结一下我遇到的坑。">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://tonypepelu.github.io/archivers/how-to-use-jekyll-with-easybook-to-create-blog">
  <link rel="alternate" type="application/rss+xml" title="Pepelu" href="http://tonypepelu.github.io/feed.xml">



  

    <header class="header">
  <div class="wrapper">
    <a class="site-title" href="/">Pepelu</a>
    <nav class="site-nav">
      
        
      
        
        <a class="page-link" href="/about/">About</a>
        
      
        
        <a class="page-link" href="/category/">Category</a>
        
      
        
      
        
      
        
      
    </nav>
  </div>
</header>

    <div class="page-content">
      <div class="wrapper">
        <div class="col-main">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">使用jekyll结合EasyBook搭建个人github主页</h1>
    <p class="post-meta">Mar 18, 2016</p>
  </header>

  <article class="post-content">
    <p>写这篇主要是总结一下我遇到的坑。</p>

<h2 id="section">安装环境</h2>

<p>这个没什么好说的，主要就是参考这篇文章：<a href="http://jekyll-windows.juthilo.com/1-ruby-and-devkit/">Run Jekyll on Windows</a> ，把Ruby环境搭建好。</p>

<p>然后根据官网的指示安装 Jekyll : <a href="http://jekyllrb.com/docs/quickstart/" title="Title">Quick-start guide</a> 。</p>

<p>过程中可能会遇到这样：</p>

<div class="highlighter-rouge">
<pre class="highlight"><code>Error fetching https://ruby.taobao.org/:
        SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: ce
rtificate verify failed (https://rubygems-china.oss-cn-hangzhou.aliyuncs.com/spe
cs.4.8.gz)
</code></pre>
</div>

<p>或者是这样：</p>

<div class="highlighter-rouge">
<pre class="highlight"><code>ERROR:  While executing gem ... (Gem::RemoteFetcher::FetchError)
    Errno::ECONNRESET: An existing connection was forcibly closed by the remote
host. - SSL_connect (https://api.rubygems.org/quick/Marshal.4.8/jekyll-3.1.2.gem
spec.rz)
</code></pre>
</div>

<p>还有这样：</p>

<div class="highlighter-rouge">
<pre class="highlight"><code>ERROR: Could not find a valid gem 'jekyll' (&gt;= 0), here is why:
https://github.com/juthilo/run-jekyll-on-windows/issues/34
</code></pre>
</div>

<p>的错误，解决办法是依次运行下面的指令：</p>

<div class="highlighter-rouge">
<pre class="highlight"><code>$ gem sources --remove https://rubygems.org/
$ gem sources -a http://rubygems.org/
$ gem install jekyll
</code></pre>
</div>

<h2 id="easybook">使用EasyBook主题</h2>

<p>参考：<a href="https://github.com/laobubu/jekyll-theme-EasyBook/wiki/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B%E6%8C%87%E5%8D%97" title="Title">快速上手指南</a> ，不要下载 Jekyll，直接clone EasyBook的项目就行了。</p>

<p>再使用jekyll调试的时候，报错：</p>

<div class="highlighter-rouge">
<pre class="highlight"><code>Configuration file: E:/code/GitHub/Tonypepelu.github.io/_config.yml
  Dependency Error: Yikes! It looks like you don't have jekyll-paginate or one
f its dependencies installed. In order to use Jekyll as currently configured, y
u'll need to install this gem. The full error message from Ruby is: 'cannot loa
 such file -- jekyll-paginate' If you run into trouble, you can find helpful re
ources at http://jekyllrb.com/help/!
jekyll 3.1.2 | Error:  jekyll-paginate
</code></pre>
</div>

<p>原因：在 <code class="highlighter-rouge">_config.yml</code> 文件中使用到了一些东西并没有安装</p>

<div class="highlighter-rouge">
<pre class="highlight"><code>gems:
 - jekyll-paginate
 - jekyll-gist
 - jemoji
</code></pre>
</div>

<p>解决办法：依次安装一下就行了</p>

<div class="highlighter-rouge">
<pre class="highlight"><code>gem install jekyll-gist
gem install jemoji
gem install jekyll-paginate
</code></pre>
</div>

<h2 id="section-1">添加评论</h2>

<p>EasyBook里面已经集成了多说和<a href="https://disqus.com/home/explore/" title="Title">disqus</a> 的评论系统，这里采用 disqus的评论系统，到网站去注册一下，把js代码拷贝下来，参考：<a href="http://beiyuu.com/github-pages/" title="Title">使用Github Pages建独立博客</a> 取得js代码，拷贝到 <code class="highlighter-rouge">_includes/comments.html</code>文件中<code class="highlighter-rouge">disqus_thread</code> 标签下，覆盖原有内容。</p>

<h2 id="git">git提交</h2>

<p>因为我已经在当前git命令中绑定过一个账号了，所以这个站点只能提交到别的账号中，我采用了fork新账号的git page项目让后提交pull request，让另一个账号merge的办法。参考：<a href="https://help.github.com/articles/using-pull-requests/" title="Title">Using pull requests</a> 。</p>

<h2 id="jekyll">Jekyll调试</h2>

<p>依次执行：</p>

<div class="highlighter-rouge">
<pre class="highlight"><code>$ jekyll build
$ jekyll server
</code></pre>
</div>

<h2 id="section-2">头像处理</h2>

<p>这里采用 <a href="https://github.com/yaqinking" title="Title">小笠原</a> 的做法，把图片托管到 <a href="http://imgur.com/">网站</a> 上，然后在工程配置文件里添加： <code class="highlighter-rouge">avatar: "//i.imgur.com/DDbB8QL.jpg?"</code>  ，比较搞笑的是上传图片必须翻墙，不然传到一半进度条还能退回来。</p>

<h2 id="section-3">写作</h2>

<p>文章应该保存在 <code class="highlighter-rouge">_posts</code> 文件夹，文件命名格式：<code class="highlighter-rouge">YYYY-MM-DD-TITLE.TYPE</code> ，例如：</p>

<ul>
  <li>
    <p><code class="highlighter-rouge">2011-12-31-new-years-eve-is-awesome.md</code></p>
  </li>
  <li>
    <p><code class="highlighter-rouge">2012-01-17-hello-world.md</code></p>

    <p>​</p>

    <p>这个可以使用批处理来解决，详情见下篇文章。</p>

    <p>​</p>
  </li>
</ul>

<p>END</p>

  </article>
  
  

<div class="post-comments">
  <div id="disqus_thread"></div>
<script>
/**
* RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
* LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');

s.src = '//httptonypepelugithubio.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
</div>




</div>

        </div>
        <div class="col-second">
          <div class="col-box col-box-author">
  <img class="avatar" src="//i.imgur.com/DDbB8QL.jpg?" alt="Tony">
  <div class="col-box-title name">Tony</div>
  <p>我的征途是星辰大海</p>
  <p class="contact">
    
    
    <a href="https://twitter.com/amorypepelu">Twitter</a>
    
    
    <a href="mailto:amorypepelu@gmail.com">Email</a>
    
  </p>
</div>

<div class="col-box">
  <div class="col-box-title">Newest Posts</div>
  <ul class="post-list">
    
      <li><a class="post-link" href="/archivers/create-file-named-by-current-date-with-shell">批处理以当前时间为文件名创建指定格式文件</a></li>
    
      <li><a class="post-link" href="/archivers/how-to-use-jekyll-with-easybook-to-create-blog">使用jekyll结合EasyBook搭建个人github主页</a></li>
    
      <li><a class="post-link" href="/archivers/hello">Welcome to Jekyll and EasyBook</a></li>
    
  </ul>
</div>

<div class="col-box post-toc hide">
  <div class="col-box-title">TOC</div>
</div>
        </div>
      </div>
    </div>

    <footer class="footer">
<div class="wrapper">
© 2016 Tony
</div>
</footer>

<script src="/js/easybook.js"></script>

  


